<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BunnyBuddy</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="source/BunnyBuddy.css">
</head>
<body>

    <div class="container">
        <h1>BunnyBuddy</h1>
        <p class="center">Contract : <a class="text-box" onclick="copy('0x0000000000000000000000000000000000000000')">0x0000000000000000000000000000000000000000</a></p>
        <div id="tooltip"></div>
        <div class="flex flex-container" style="justify-content: space-around;">
            <p class="bubble">Current Supply: <span> 555,555</span> BB</p>
            <p class="bubble">Current Price: <span>Infinity CMJ</span></p>
        </div>
        <div id="Presale">
            <h1>Presale <span class="red">(Stay Tuned)</span></h1>
        <div class="flex flex-container" style="justify-content: space-around;">
            <p class="bubble bg-blue white">Presale Round: <span id="presaleRound">1</span></p>
            <p class="bubble bg-blue white">Presale Rate: <span id="presaleRate">7,000 CU / 1 BB</span></p>
            <p class="bubble bg-blue white">Remaining: <span id="remaining">1,000/80,000 BB</span></p>
        </div>
        <div class="grid-container">
            <!-- HEADER -->
            <div class="grid-item header">Round</div>
            <div class="grid-item header">Details</div>
            <div class="grid-item header">Quota</div>
            <!-- ROW 1 -->
            <div class="grid-item">1 <span class="green bold">Active</span></div>
            <div class="grid-item">7,000 CU / 1 BB</div>
            <div class="grid-item">10,000 BB</div>
            <!-- ROW 1 -->
            <div class="grid-item">2</div>
            <div class="grid-item">1 JDAO / 20 BB</div>
            <div class="grid-item">5,000 BB</div>
            <!-- ROW 1 -->
            <div class="grid-item">3</div>
            <div class="grid-item">25,000 BBQ / 1 BB</div>
            <div class="grid-item">25,000 BB</div>

        </div>
        <div class="swap">
            <div>
                <label for="buy" class="form-label center">Spent</label>
            <input type="number" id="buy" class="form-control mb-3" min="0" max="7000000" placeholder="token buy amount">
            </div>
            <div>
                <a class="btn-buy">BUY !!</a>
            </div>
            <div>
                <label for="get" class="form-label center">Receive</label>
            <input type="number" id="get" class="form-control mb-3" style="background-color: rgba(128, 128, 128, 0.199);" min="0" placeholder="recieve BB" readonly>
            </div>
        </div>
        </div>
        <div id="Gashapon">
            <h1>Gashapon <span class="red">(Stay Tuned)</span></h1>
                <div class="gashapontent">
                        <div class="gashapon">
                            <h3>Bunny Eggs (BB) <img src="./img/info_icon.png" width="25px" onclick='showdPopup("gashapon1")'></h3>
                            <p>Price : 888 BB / Boxes</p>
                            <p>Remaining : 100 Boxes</p>
                            <img src="./img/gashapon.png" width="150px">
                            <p class="btn">Open Now !!</p>
                        </div>
                        <div class="gashapon">
                            <h3>Bunny Eggs (BB) <img src="./img/info_icon.png" width="25px" onclick='showdPopup("gashapon2")'></h3>
                            <p>Price : 15 WJBC / Boxes</p>
                            <p>Remaining : 100 Boxes</p>
                            <img src="./img/gashapon.png" width="150px">
                            <p class="btn">Open Now !!</p>
                        </div>
                </div>
                <div id="gashapon1" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 1500; justify-content: center; align-items: center;">
                    <div style="border-radius: 15px; text-align: center; background-color: white; padding: 20px;">
                        <div class="gasha-container center" style="display: flex;flex-wrap: wrap;">
                            <h2>Gashapon Details 1 </h2>
                            <div class="close-btn" onclick='closedPopup("gashapon1")'>X</div>
                        </div>

                        <div class="grid-container">
                            <!-- HEADER -->
                            <div class="grid-item header">Name</div>
                            <div class="grid-item header">Power</div>
                            <div class="grid-item header">Supply This Box</div>
                            <!-- ROW 1 -->
                            <div class="grid-item"><img src="./img/BUNNY2.png"><br>N BUNNY MINER</div>
                            <div class="grid-item">1,888 BunnyPow</div>
                            <div class="grid-item">70 NFTs</div>
                            <!-- ROW 1 -->
                            <div class="grid-item"><img src="./img/BUNNY3.png"><br>R SUNNY MINER</div>
                            <div class="grid-item">2,888 BunnyPow</div>
                            <div class="grid-item">20 NFTs</div>
                            <!-- ROW 1 -->
                            <div class="grid-item"><img src="./img/SR_BUNNY.png"><br>SR PINKKY MINER</div>
                            <div class="grid-item">10,888 BunnyPow</div>
                            <div class="grid-item">10 NFTs</div>
                        </div>
                    </div>
                </div>
                <div id="gashapon2" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 1500; justify-content: center; align-items: center;">
                    <div style="border-radius: 15px; text-align: center; background-color: white; padding: 20px;">
                        <div class="gasha-container center" style="display: flex;flex-wrap: wrap;">
                            <h2>Gashapon Details 2 </h2>
                            <div class="close-btn" onclick='closedPopup("gashapon2")'>X</div>
                        </div>
                        <div class="grid-container">
                            <!-- HEADER -->
                            <div class="grid-item header">Name</div>
                            <div class="grid-item header">Power</div>
                            <div class="grid-item header">Supply This Box</div>
                            <!-- ROW 1 -->
                            <div class="grid-item"><img src="./img/N_BUNNY2.png"><br>N BUNNY MINER</div>
                            <div class="grid-item">128 BunnyPow</div>
                            <div class="grid-item">40 NFTs</div>
                            <!-- ROW 1 -->
                            <div class="grid-item"><img src="./img/R_BUNNY.png"><br>R SUNNY MINER</div>
                            <div class="grid-item">588 BunnyPow</div>
                            <div class="grid-item">33 NFTs</div>
                            <!-- ROW 1 -->
                            <div class="grid-item"><img src="./img/MINIBUNNY.png"><br>SR PINKKY MINER</div>
                            <div class="grid-item">888 BunnyPow</div>
                            <div class="grid-item">25 NFTs</div>
                            <!-- ROW 1 -->
                            <div class="grid-item"><img src="./img/BigBro2.png"><br>SSR BigBro MINER</div>
                            <div class="grid-item">5,888 BunnyPow</div>
                            <div class="grid-item">2 NFTs</div>
                        </div>
                    </div>
                </div>
            
        </div>
        <div id="Dungeon">
            <h1>Dungeon <span class="red">(Stay Tuned)</span></h1>
            <div class="dungeonContent">
                <div class="dungeonInfo">
                    <p class="ft-24 head center">Grand Ruby Cave</p>
                    <p class="ft-14">Reward : Grand Ruby</p>
                    <p class="ft-14">Mining Round : 7 Days</p>
                    <p class="ft-14">Reward : 25,000 GR per Day (SharePool)</p>
                    <p class="ft-16 bold center">Manager (working)</p>
                    <p class="ft-16 bold center">Manager (not working)</p>
                    <p class="ft-14">Your Power : <span>5,888</span></p>
                    <p class="ft-14">World Power : <span>900,000</span></p>
                    <p class="ft-14">Hire : 14 BB per Round</p>
                    <p class="ft-14">Tips : 0.001 BB per Power</p>
                    <p class="btn">Cost : <span id="hireCost">19.888 BB</span> Hire !!</p>
                    <p class="btn mining">Fire Manager [Claim]</p>
                    <p class="btn mining2">Timeout [Claim]</p>
                </div>
                <div class="dungeonNFT">
                    <p class="ft-24 head center">Your Miner</p>
                    <div class="minerInfo">
                        <div class="nft-card">
                            <p class="ft-12 ul-violet">SSR BigBro Bunny</p>
                            <img src="./img/BigBro2.png">
                            <p class="ft-14 black">Power : 5,888</p>
                            <p class="ft-14 green">Stake</p>
                            <p class="btn ft-14">Unstake</p>
                        </div>
                        <div class="nft-card">
                            <p class="ft-12 ul-violet">SR Mini Pinky Bunny</p>
                            <img src="./img/MINIBUNNY.png">
                            <p class="ft-14 black">Power : 888</p>
                            <p class="ft-14 red">not Stake</p>
                            <p class="btn ft-14">Stake</p>
                            <p class="btn ft-14">Transfer</p>   
                        </div>
                        <div class="nft-card">
                            <p class="ft-12 ul-violet">SR BUNNY</p>
                            <img src="./img/SR_BUNNY.png">
                            <p class="ft-14 black">Power : 10,888</p>
                            <p class="ft-14 red">not Stake</p>
                            <p class="btn ft-14">Stake</p>
                            <p class="btn ft-14">Transfer</p>   
                        </div>
                        <div class="nft-card">
                            <p class="ft-12 ul-violet">R+3 SUNNY MINER</p>
                            <img src="./img/BUNNY3.png">
                            <p class="ft-14 black">Power : 23,104</p>
                            <p class="ft-14 red">not Stake</p>
                            <p class="btn ft-14">Stake</p>
                            <p class="btn ft-14">Transfer</p>   
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="Merchant">
            <h1>Merchant</h1>
            <div class="flex flex-container" style="justify-content: space-around;">
                <p class="bubble bg-blue white">Balance: <span id="grBalance">700 GR</span></p>
                <p class="bubble bg-blue white">Convert Rate: <span id="convertRate">1 GR / 0.05 CMJ</span></p>
                <p class="bubble bg-blue white">Pool: <span id="grPool">1,028 CMJ</span></p>
                <p class="bubble bg-blue white">Fee: <span id="fee">5%</span></p>
            </div>
            <p class="bubble bg-blue white btn center">Convert !!</p>
        </div>
        <div id="Stake">

        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const tooltip = document.getElementById('tooltip');

        function copy(text) {
            var tempInput = document.createElement('input');
            tempInput.value = text; 
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);

            tooltip.innerHTML = 'Copied to clipboard: ' + text;
            tooltip.style.display = 'block';

            document.addEventListener('mousemove', updateTooltipPosition);

            setTimeout(function() {
                tooltip.style.display = 'none';
                document.removeEventListener('mousemove', updateTooltipPosition);
            }, 2000);
        }

        function updateTooltipPosition(e) {
            tooltip.style.left = (e.pageX + 10) + 'px';
            tooltip.style.top = (e.pageY + 10) + 'px'; 
        }

        function showdPopup(popupId) {
        document.getElementById(popupId).style.display = 'flex';
    }
        function closedPopup(popupId) {
        document.getElementById(popupId).style.display = 'none';
    }
    const inputs = document.querySelectorAll("#buy");

    let debounceTimeout;
    let count = 0;

    inputs.forEach(input => {
        input.addEventListener("input", function() {
            clearTimeout(debounceTimeout); // Clear previous timeout

            // Set a new timeout for 0.5 seconds
            debounceTimeout = setTimeout(() => {
                calPremint();
                count = 0;
            }, 100);
            count++;
            if (count === 2) {
                calPremint();
                clearTimeout(debounceTimeout); // Clear the timeout to prevent further execution
                count = 0; // Reset count
            }
        });
    });


    function calPremint() {
    const amountInput = document.getElementById("buy");
    const amount = parseFloat(amountInput.value);
    const rate = 7000;
    const remainingQuota = 1000;

    if (amount > remainingQuota * rate) {
        amountInput.value = remainingQuota * rate; // Set input value to max allowed
    }
    const gainBB = amount / rate;

    document.getElementById("get").value = gainBB;
}


    </script>
</body>
</html>
