<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BunnyBuddy</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="source/styles.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">BunnyBuddy</div>
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#presale">Presale</a></li>
                <li><a href="#gashapon">Gashapon</a></li>
                <li><a href="#dungeon">Dungeon</a></li>
                <li><a href="#merchant">Merchant</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home">
            <h1>BunnyBuddy</h1>
            <p class="contract">Contract: <span class="text-box" onclick="copy('0x0000000000000000000000000000000000000000')">0x0000000000000000000000000000000000000000</span></p>
            <div id="tooltip"></div>
            <div class="stats">
                <div class="stat-card">
                    <h3>Current Supply</h3>
                    <p>555,555 BB</p>
                </div>
                <div class="stat-card">
                    <h3>Current Price</h3>
                    <p>Infinity CMJ</p>
                </div>
            </div>
        </section>

        <section id="presale">
            <h2>Presale <span class="highlight">(Stay Tuned)</span></h2>
            <div class="presale-stats">
                <div class="stat-card">
                    <h3>Presale Round</h3>
                    <p id="presaleRound">1</p>
                </div>
                <div class="stat-card">
                    <h3>Presale Rate</h3>
                    <p id="presaleRate">7,000 CU / 1 BB</p>
                </div>
                <div class="stat-card">
                    <h3>Remaining</h3>
                    <p id="remaining">1,000/80,000 BB</p>
                </div>
            </div>
            <div class="presale-grid">
                <div class="grid-header">Round</div>
                <div class="grid-header">Details</div>
                <div class="grid-header">Quota</div>
                <div class="grid-item">1 <span class="status-active">Active</span></div>
                <div class="grid-item">7,000 CU / 1 BB</div>
                <div class="grid-item">10,000 BB</div>
                <div class="grid-item">2</div>
                <div class="grid-item">1 JDAO / 20 BB</div>
                <div class="grid-item">5,000 BB</div>
                <div class="grid-item">3</div>
                <div class="grid-item">25,000 BBQ / 1 BB</div>
                <div class="grid-item">25,000 BB</div>
            </div>
            <div class="swap">
                <div class="swap-input">
                    <label for="buy">Spent</label>
                    <input type="number" id="buy" min="0" max="7000000" placeholder="token buy amount">
                </div>
                <button class="btn-buy">BUY !!</button>
                <div class="swap-input">
                    <label for="get">Receive</label>
                    <input type="number" id="get" min="0" placeholder="receive BB" readonly>
                </div>
            </div>
        </section>

        <section id="gashapon">
            <h2>Gashapon <span class="highlight">(Stay Tuned)</span></h2>
            <div class="gashapon-container">
                <div class="gashapon-box">
                    <h3>Bunny Eggs (BB) <img src="./img/info_icon.png" width="25" onclick='showdPopup("gashapon1")'></h3>
                    <p>Price: 888 BB / Boxes</p>
                    <p>Remaining: 100 Boxes</p>
                    <div class="gashapon-image">
                        <img src="./img/gashapon.png" width="150">
                    </div>
                    <button class="btn-gasha">Open Now !!</button>
                </div>
                <div class="gashapon-box">
                    <h3>Bunny Eggs (BB) <img src="./img/info_icon.png" width="25" onclick='showdPopup("gashapon2")'></h3>
                    <p>Price: 15 WJBC / Boxes</p>
                    <p>Remaining: 100 Boxes</p>
                    <div class="gashapon-image">
                        <img src="./img/gashapon.png" width="150">
                    </div>
                    <button class="btn-gasha">Open Now !!</button>
                </div>
            </div>
            <!-- Gashapon popup details here -->
            <div id="gashapon1" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 1500; justify-content: center; align-items: center;">
                <div style="border-radius: 15px; text-align: center; background-color: white; padding: 20px;">
                    <div class="gasha-container center" style="display: flex;flex-wrap: wrap;">
                        <h2>Gashapon Details 1 </h2>
                        <div class="close-btn" onclick='closedPopup("gashapon1")'>X</div>
                    </div>

                    <div class="grid-container">
                        <!-- HEADER -->
                        <div class="grid-item header">Name</div>
                        <div class="grid-item header">Power</div>
                        <div class="grid-item header">Supply This Box</div>
                        <!-- ROW 1 -->
                        <div class="grid-item"><img src="./img/BUNNY2.png"><br>N BUNNY MINER</div>
                        <div class="grid-item">1,888 BunnyPow</div>
                        <div class="grid-item">70 NFTs</div>
                        <!-- ROW 1 -->
                        <div class="grid-item"><img src="./img/BUNNY3.png"><br>R SUNNY MINER</div>
                        <div class="grid-item">2,888 BunnyPow</div>
                        <div class="grid-item">20 NFTs</div>
                        <!-- ROW 1 -->
                        <div class="grid-item"><img src="./img/SR_BUNNY.png"><br>SR PINKKY MINER</div>
                        <div class="grid-item">10,888 BunnyPow</div>
                        <div class="grid-item">10 NFTs</div>
                    </div>
                </div>
            </div>
            <div id="gashapon2" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 1500; justify-content: center; align-items: center;">
                <div style="border-radius: 15px; text-align: center; background-color: white; padding: 20px;">
                    <div class="gasha-container center" style="display: flex;flex-wrap: wrap;">
                        <h2>Gashapon Details 2 </h2>
                        <div class="close-btn" onclick='closedPopup("gashapon2")'>X</div>
                    </div>
                    <div class="grid-container">
                        <!-- HEADER -->
                        <div class="grid-item header">Name</div>
                        <div class="grid-item header">Power</div>
                        <div class="grid-item header">Supply This Box</div>
                        <!-- ROW 1 -->
                        <div class="grid-item"><img src="./img/N_BUNNY2.png"><br>N BUNNY MINER</div>
                        <div class="grid-item">128 BunnyPow</div>
                        <div class="grid-item">40 NFTs</div>
                        <!-- ROW 1 -->
                        <div class="grid-item"><img src="./img/R_BUNNY.png"><br>R SUNNY MINER</div>
                        <div class="grid-item">588 BunnyPow</div>
                        <div class="grid-item">33 NFTs</div>
                        <!-- ROW 1 -->
                        <div class="grid-item"><img src="./img/MINIBUNNY.png"><br>SR PINKKY MINER</div>
                        <div class="grid-item">888 BunnyPow</div>
                        <div class="grid-item">25 NFTs</div>
                        <!-- ROW 1 -->
                        <div class="grid-item"><img src="./img/BigBro2.png"><br>SSR BigBro MINER</div>
                        <div class="grid-item">5,888 BunnyPow</div>
                        <div class="grid-item">2 NFTs</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="dungeon">
            <h2>Dungeon <span class="highlight">(Stay Tuned)</span></h2>
            <div class="dungeon-content">
                <div class="dungeon-info">
                    <h3>Grand Ruby Cave</h3>
                    <p>Reward: Grand Ruby</p>
                    <p>Mining Round: 7 Days</p>
                    <p>Reward: 25,000 GR per Day (SharePool)</p>
                    <p class="bold">Manager (working)</p>
                    <p class="bold">Manager (not working)</p>
                    <p>Your Power: <span>5,888</span></p>
                    <p>World Power: <span>900,000</span></p>
                    <p>Hire: 14 BB per Round</p>
                    <p>Tips: 0.001 BB per Power</p>
                    <button class="btn">Cost: <span id="hireCost">19.888 BB</span> Hire !!</button>
                    <button class="btn mining">Fire Manager [Claim]</button>
                    <button class="btn mining2">Timeout [Claim]</button>
                </div>
                <div class="dungeon-nft">
                    <h3>Your Miner</h3>
                    <div class="miner-info">
                        <div class="nft-card">
                            <p class="nft-type">SSR BigBro Bunny</p>
                            <img src="./img/BigBro2.png" alt="SSR BigBro Bunny">
                            <p>Power: 5,888</p>
                            <p class="status staked">Staked</p>
                            <button class="btn">Unstake</button>
                        </div>
                        <div class="nft-card">
                            <p class="nft-type">SR Mini Pinky Bunny</p>
                            <img src="./img/MINIBUNNY.png" alt="SR Mini Pinky Bunny">
                            <p>Power: 888</p>
                            <p class="status not-staked">Not Staked</p>
                            <button class="btn">Stake</button>
                            <button class="btn">Transfer</button>
                        </div>
                        <div class="nft-card">
                            <p class="nft-type">SR BUNNY</p>
                            <img src="./img/SR_BUNNY.png" alt="SR BUNNY">
                            <p>Power: 10,888</p>
                            <p class="status not-staked">Not Staked</p>
                            <button class="btn">Stake</button>
                            <button class="btn">Transfer</button>
                        </div>
                        <div class="nft-card">
                            <p class="nft-type">R+3 SUNNY MINER</p>
                            <img src="./img/BUNNY3.png" alt="R+3 SUNNY MINER">
                            <p>Power: 23,104</p>
                            <p class="status not-staked">Not Staked</p>
                            <button class="btn">Stake</button>
                            <button class="btn">Transfer</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="merchant">
            <h2>Merchant</h2>
            <div class="merchant-stats">
                <div class="stat-card">
                    <h3>Balance</h3>
                    <p id="grBalance">700 GR</p>
                </div>
                <div class="stat-card">
                    <h3>Convert Rate</h3>
                    <p id="convertRate">1 GR / 0.05 CMJ</p>
                </div>
                <div class="stat-card">
                    <h3>Pool</h3>
                    <p id="grPool">1,028 CMJ</p>
                </div>
                <div class="stat-card">
                    <h3>Fee</h3>
                    <p id="fee">5%</p>
                </div>
            </div>
            <button class="btn convert-btn">Convert !!</button>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 BunnyBuddy. All rights reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const tooltip = document.getElementById('tooltip');

        function copy(text) {
            var tempInput = document.createElement('input');
            tempInput.value = text; 
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);

            tooltip.innerHTML = 'Copied to clipboard: ' + text;
            tooltip.style.display = 'block';

            document.addEventListener('mousemove', updateTooltipPosition);

            setTimeout(function() {
                tooltip.style.display = 'none';
                document.removeEventListener('mousemove', updateTooltipPosition);
            }, 2000);
        }

        function updateTooltipPosition(e) {
            tooltip.style.left = (e.pageX + 10) + 'px';
            tooltip.style.top = (e.pageY + 10) + 'px'; 
        }

        function showdPopup(popupId) {
        document.getElementById(popupId).style.display = 'flex';
    }
        function closedPopup(popupId) {
        document.getElementById(popupId).style.display = 'none';
    }
    const inputs = document.querySelectorAll("#buy");

    let debounceTimeout;
    let count = 0;

    inputs.forEach(input => {
        input.addEventListener("input", function() {
            clearTimeout(debounceTimeout); // Clear previous timeout

            // Set a new timeout for 0.5 seconds
            debounceTimeout = setTimeout(() => {
                calPremint();
                count = 0;
            }, 100);
            count++;
            if (count === 2) {
                calPremint();
                clearTimeout(debounceTimeout); // Clear the timeout to prevent further execution
                count = 0; // Reset count
            }
        });
    });


    function calPremint() {
    const amountInput = document.getElementById("buy");
    const amount = parseFloat(amountInput.value);
    const rate = 7000;
    const remainingQuota = 1000;

    if (amount > remainingQuota * rate) {
        amountInput.value = remainingQuota * rate; // Set input value to max allowed
    }
    const gainBB = amount / rate;

    document.getElementById("get").value = gainBB;
}


    </script>
</body>
</html>